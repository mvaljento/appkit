import{memo as f,useEffect as g,useState as u}from"react";import{Web3ModalAuth as h}from"@web3modal/auth-html";let o;function m(t){o=new h(t)}async function A(){return new Promise(t=>{if(o)t(o);else{const n=setInterval(()=>{o&&(clearInterval(n),t(o))},200)}})}function b(t){return g(()=>{m(t)},[]),null}const I=f(b);function v(){const[t,n]=u(void 0),[a,i]=u(void 0),[s,r]=u(!1);return{data:t,error:a,loading:s,setData:n,setError:i,setLoading:r}}function M(t){const{data:n,error:a,loading:i,setData:s,setError:r,setLoading:l}=v();async function d(c){try{l(!0),r(void 0);const e=await(await A()).signIn(c??t);return s(e),e}catch(e){throw r(e),e}finally{l(!1)}}return{signIn:d,data:n,error:a,loading:i}}export{I as Web3ModalAuth,M as useSignIn};
